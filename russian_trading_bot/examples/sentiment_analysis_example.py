"""
–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π –¥–ª—è —Ä—É—Å—Å–∫–∏—Ö —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π.

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π:
- –ê–Ω–∞–ª–∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
- –ü–∞–∫–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- –û–±—É—á–µ–Ω–∏–µ –Ω–∞ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
"""

import sys
import os
from datetime import datetime, timedelta
from pathlib import Path

# –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Ä–Ω–µ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞ –≤ –ø—É—Ç—å
project_root = Path(__file__).parent.parent.parent
sys.path.insert(0, str(project_root))

from russian_trading_bot.services.sentiment_analyzer import RussianSentimentAnalyzer
from russian_trading_bot.models.news_data import RussianNewsArticle


def create_sample_articles():
    """–°–æ–∑–¥–∞–µ—Ç –ø—Ä–∏–º–µ—Ä—ã –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏."""
    articles = [
        RussianNewsArticle(
            title="–°–±–µ—Ä–±–∞–Ω–∫ –ø–æ–∫–∞–∑–∞–ª —Ä–µ–∫–æ—Ä–¥–Ω—É—é –ø—Ä–∏–±—ã–ª—å –∑–∞ –∫–≤–∞—Ä—Ç–∞–ª",
            content="""
            –ö—Ä—É–ø–Ω–µ–π—à–∏–π —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –±–∞–Ω–∫ –°–±–µ—Ä–±–∞–Ω–∫ –æ–±—ä—è–≤–∏–ª –æ —Ä–µ–∫–æ—Ä–¥–Ω–æ–π —á–∏—Å—Ç–æ–π –ø—Ä–∏–±—ã–ª–∏ 
            –≤ —Ä–∞–∑–º–µ—Ä–µ 350 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ —Ä—É–±–ª–µ–π –∑–∞ —Ç—Ä–µ—Ç–∏–π –∫–≤–∞—Ä—Ç–∞–ª 2024 –≥–æ–¥–∞. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã 
            –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø—Ä–µ–≤–∑–æ—à–ª–∏ –æ–∂–∏–¥–∞–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤ –∏ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏ –æ—Ç–ª–∏—á–Ω—É—é 
            –¥–∏–Ω–∞–º–∏–∫—É —Ä–æ—Å—Ç–∞ –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π. –£—Å–ø–µ—à–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ 
            –±–∞–Ω–∫–∏–Ω–≥–∞ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏ –ø–æ–∑–≤–æ–ª–∏–ª–∏ –±–∞–Ω–∫—É —É–∫—Ä–µ–ø–∏—Ç—å —Å–≤–æ–∏ 
            –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ —Ä—ã–Ω–∫–µ. –ò–Ω–≤–µ—Å—Ç–æ—Ä—ã –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞ –Ω–æ–≤–æ—Å—Ç–∏, 
            –∞–∫—Ü–∏–∏ –±–∞–Ω–∫–∞ –≤—ã—Ä–æ—Å–ª–∏ –Ω–∞ 8% –≤ —Ö–æ–¥–µ —Ç–æ—Ä–≥–æ–≤.
            """,
            source="RBC",
            timestamp=datetime.now() - timedelta(hours=2),
            url="https://example.com/sber-profit"
        ),
        
        RussianNewsArticle(
            title="–ì–∞–∑–ø—Ä–æ–º —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å —Å–µ—Ä—å–µ–∑–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏ –∏–∑-–∑–∞ —Å–∞–Ω–∫—Ü–∏–π",
            content="""
            –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–π –≥–∏–≥–∞–Ω—Ç –ì–∞–∑–ø—Ä–æ–º —Å–æ–æ–±—â–∏–ª –æ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö —É–±—ã—Ç–∫–∞—Ö –≤ —Ä–∞–∑–º–µ—Ä–µ 
            150 –º–∏–ª–ª–∏–∞—Ä–¥–æ–≤ —Ä—É–±–ª–µ–π –∑–∞ –æ—Ç—á–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥. –ö–æ–º–ø–∞–Ω–∏—è —Å—Ç–æ–ª–∫–Ω—É–ª–∞—Å—å —Å —Å–µ—Ä—å–µ–∑–Ω—ã–º–∏ 
            –≤—ã–∑–æ–≤–∞–º–∏ –∏–∑-–∑–∞ –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö —Å–∞–Ω–∫—Ü–∏–π –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –≥–∞–∑–∞ –≤ –ï–≤—Ä–æ–ø—É. 
            –ü–∞–¥–µ–Ω–∏–µ –¥–æ—Ö–æ–¥–æ–≤ –ø—Ä–∏–≤–µ–ª–æ –∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–∞ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤ 
            –∏ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Ä–∞—Å—Ö–æ–¥–æ–≤. –ê–Ω–∞–ª–∏—Ç–∏–∫–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—Ç –æ –≤–æ–∑–º–æ–∂–Ω–æ–º –¥–∞–ª—å–Ω–µ–π—à–µ–º 
            —É—Ö—É–¥—à–µ–Ω–∏–∏ —Å–∏—Ç—É–∞—Ü–∏–∏ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞–º –ø—Ä–æ—è–≤–ª—è—Ç—å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å. 
            –ê–∫—Ü–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏ —É–ø–∞–ª–∏ –Ω–∞ 12% –Ω–∞ —Ñ–æ–Ω–µ –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π.
            """,
            source="VEDOMOSTI",
            timestamp=datetime.now() - timedelta(hours=4),
            url="https://example.com/gazprom-problems"
        ),
        
        RussianNewsArticle(
            title="–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –±–∏—Ä–∂–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ—Ä–≥–æ–≤ –∑–∞ –æ–∫—Ç—è–±—Ä—å",
            content="""
            –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –±–∏—Ä–∂–∞ (MOEX) –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–ª–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–æ—Ä–≥–æ–≤—ã—Ö 
            –æ–±–æ—Ä–æ—Ç–æ–≤ –∑–∞ –æ–∫—Ç—è–±—Ä—å 2024 –≥–æ–¥–∞. –û–±—â–∏–π –æ–±—ä–µ–º —Ç–æ—Ä–≥–æ–≤ —Å–æ—Å—Ç–∞–≤–∏–ª 2.5 —Ç—Ä–∏–ª–ª–∏–æ–Ω–∞ 
            —Ä—É–±–ª–µ–π, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ä–µ–¥–Ω–µ–º–µ—Å—è—á–Ω—ã–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª—è–º. –ù–∞ —Ñ–æ–Ω–¥–æ–≤–æ–º —Ä—ã–Ω–∫–µ 
            –Ω–∞–±–ª—é–¥–∞–ª–∞—Å—å —É–º–µ—Ä–µ–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –ø—Ä–µ–æ–±–ª–∞–¥–∞–Ω–∏–µ–º –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∞–∫—Ü–∏—è–º–∏ 
            –∫—Ä—É–ø–Ω—ã—Ö –∫–æ–º–ø–∞–Ω–∏–π. –í–∞–ª—é—Ç–Ω—ã–π —Å–µ–≥–º–µ–Ω—Ç –ø–æ–∫–∞–∑–∞–ª —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –æ–±–æ—Ä–æ—Ç—ã –±–µ–∑ 
            –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–æ–ª–µ–±–∞–Ω–∏–π. –ü—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–∏ –±–∏—Ä–∂–∏ –æ—Ç–º–µ—Ç–∏–ª–∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é 
            —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ç–æ—Ä–≥–æ–≤ –∏ —É—á–∞—Å—Ç–∏–µ –∫–∞–∫ –∏–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö, —Ç–∞–∫ –∏ —á–∞—Å—Ç–Ω—ã—Ö –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤.
            """,
            source="INTERFAX",
            timestamp=datetime.now() - timedelta(hours=6),
            url="https://example.com/moex-stats"
        ),
        
        RussianNewsArticle(
            title="–Ø–Ω–¥–µ–∫—Å –æ–±—ä—è–≤–∏–ª –æ –∑–∞–ø—É—Å–∫–µ –Ω–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤",
            content="""
            –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è –Ø–Ω–¥–µ–∫—Å –∞–Ω–æ–Ω—Å–∏—Ä–æ–≤–∞–ª–∞ –∑–∞–ø—É—Å–∫ –∏–Ω–Ω–æ–≤–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ 
            —Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —á–∞—Å—Ç–Ω—ã—Ö –∏–Ω–≤–µ—Å—Ç–æ—Ä–æ–≤. –ù–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º 
            –¥–æ—Å—Ç—É–ø –∫ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è 
            –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–º –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –≤–µ–ª–∞—Å—å –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–≤—É—Ö –ª–µ—Ç —Å 
            –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ–º –≤–µ–¥—É—â–∏—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ —Ä—ã–Ω–∫–∞. –ö–æ–º–ø–∞–Ω–∏—è –ø–ª–∞–Ω–∏—Ä—É–µ—Ç 
            –ø—Ä–∏–≤–ª–µ—á—å –±–æ–ª–µ–µ 100 —Ç—ã—Å—è—á –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –ø–µ—Ä–≤—ã–π –≥–æ–¥ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–∏—Å–∞. 
            –≠—Ç–æ —Å—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π —à–∞–≥ –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã –Ø–Ω–¥–µ–∫—Å–∞ –≤ 
            —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º —Å–µ–∫—Ç–æ—Ä–µ.
            """,
            source="RBC",
            timestamp=datetime.now() - timedelta(hours=8),
            url="https://example.com/yandex-service"
        ),
        
        RussianNewsArticle(
            title="–¶–ë –†–§ —Å–æ—Ö—Ä–∞–Ω–∏–ª –∫–ª—é—á–µ–≤—É—é —Å—Ç–∞–≤–∫—É –Ω–∞ —É—Ä–æ–≤–Ω–µ 21%",
            content="""
            –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –±–∞–Ω–∫ –†–æ—Å—Å–∏–∏ –ø—Ä–∏–Ω—è–ª —Ä–µ—à–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á–µ–≤—É—é —Å—Ç–∞–≤–∫—É –Ω–∞ 
            —Ç–µ–∫—É—â–µ–º —É—Ä–æ–≤–Ω–µ 21% –≥–æ–¥–æ–≤—ã—Ö. –†–µ—à–µ–Ω–∏–µ –±—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ –µ–¥–∏–Ω–æ–≥–ª–∞—Å–Ω–æ –Ω–∞ –∑–∞—Å–µ–¥–∞–Ω–∏–∏ 
            –°–æ–≤–µ—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤ —Å —É—á–µ—Ç–æ–º —Ç–µ–∫—É—â–µ–π –º–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏ –∏ 
            –∏–Ω—Ñ–ª—è—Ü–∏–æ–Ω–Ω—ã—Ö –æ–∂–∏–¥–∞–Ω–∏–π. –†–µ–≥—É–ª—è—Ç–æ—Ä –æ—Ç–º–µ—Ç–∏–ª –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è 
            –∂–µ—Å—Ç–∫–æ–π –¥–µ–Ω–µ–∂–Ω–æ-–∫—Ä–µ–¥–∏—Ç–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è 
            –∏–Ω—Ñ–ª—è—Ü–∏–∏. –°–ª–µ–¥—É—é—â–µ–µ –∑–∞—Å–µ–¥–∞–Ω–∏–µ –ø–æ –≤–æ–ø—Ä–æ—Å—É –∫–ª—é—á–µ–≤–æ–π —Å—Ç–∞–≤–∫–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ 
            –Ω–∞ –¥–µ–∫–∞–±—Ä—å. –£—á–∞—Å—Ç–Ω–∏–∫–∏ —Ä—ã–Ω–∫–∞ –æ–∂–∏–¥–∞–ª–∏ —Ç–∞–∫–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É —Ä–µ–∞–∫—Ü–∏—è 
            –±—ã–ª–∞ —Å–¥–µ—Ä–∂–∞–Ω–Ω–æ–π.
            """,
            source="TASS",
            timestamp=datetime.now() - timedelta(hours=10),
            url="https://example.com/cbr-rate"
        )
    ]
    
    return articles


def demonstrate_single_analysis(analyzer, article):
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –∞–Ω–∞–ª–∏–∑ –æ–¥–Ω–æ–π —Å—Ç–∞—Ç—å–∏."""
    print(f"\n{'='*60}")
    print(f"–ê–ù–ê–õ–ò–ó –°–¢–ê–¢–¨–ò: {article.title}")
    print(f"{'='*60}")
    print(f"–ò—Å—Ç–æ—á–Ω–∏–∫: {article.source}")
    print(f"–í—Ä–µ–º—è: {article.timestamp.strftime('%Y-%m-%d %H:%M')}")
    print(f"\n–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (–ø–µ—Ä–≤—ã–µ 200 —Å–∏–º–≤–æ–ª–æ–≤):")
    print(f"{article.content[:200].strip()}...")
    
    # –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
    sentiment = analyzer.analyze_sentiment(article)
    
    print(f"\n{'='*40}")
    print(f"–†–ï–ó–£–õ–¨–¢–ê–¢–´ –ê–ù–ê–õ–ò–ó–ê –ù–ê–°–¢–†–û–ï–ù–ò–Ø")
    print(f"{'='*40}")
    print(f"–û–±—â–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: {sentiment.overall_sentiment}")
    print(f"–û—Ü–µ–Ω–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è: {sentiment.sentiment_score:.3f}")
    print(f"–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {sentiment.confidence:.3f}")
    
    if sentiment.positive_keywords:
        print(f"\n–ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:")
        print(f"  {', '.join(sentiment.positive_keywords[:5])}")
    
    if sentiment.negative_keywords:
        print(f"\n–ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:")
        print(f"  {', '.join(sentiment.negative_keywords[:5])}")
    
    if sentiment.neutral_keywords:
        print(f"\n–ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:")
        print(f"  {', '.join(sentiment.neutral_keywords[:5])}")


def demonstrate_batch_analysis(analyzer, articles):
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–∞–∫–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å—Ç–∞—Ç–µ–π."""
    print(f"\n{'='*60}")
    print(f"–ü–ê–ö–ï–¢–ù–´–ô –ê–ù–ê–õ–ò–ó {len(articles)} –°–¢–ê–¢–ï–ô")
    print(f"{'='*60}")
    
    # –í—ã–ø–æ–ª–Ω—è–µ–º –ø–∞–∫–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
    sentiments = analyzer.batch_analyze_sentiment(articles)
    
    # –í—ã–≤–æ–¥–∏–º –∫—Ä–∞—Ç–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    print(f"\n–ö—Ä–∞—Ç–∫–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:")
    print(f"{'–°—Ç–∞—Ç—å—è':<40} {'–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ':<15} {'–û—Ü–µ–Ω–∫–∞':<8} {'–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å':<12}")
    print(f"{'-'*75}")
    
    for article, sentiment in zip(articles, sentiments):
        title = article.title[:37] + "..." if len(article.title) > 40 else article.title
        print(f"{title:<40} {sentiment.overall_sentiment:<15} "
              f"{sentiment.sentiment_score:>6.3f} {sentiment.confidence:>10.3f}")
    
    # –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
    stats = analyzer.get_sentiment_statistics(sentiments)
    
    print(f"\n{'='*40}")
    print(f"–°–¢–ê–¢–ò–°–¢–ò–ö–ê –ù–ê–°–¢–†–û–ï–ù–ò–ô")
    print(f"{'='*40}")
    print(f"–í—Å–µ–≥–æ —Å—Ç–∞—Ç–µ–π: {stats['total_articles']}")
    print(f"–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è: {stats['average_sentiment_score']:.3f}")
    print(f"–°—Ä–µ–¥–Ω—è—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {stats['average_confidence']:.3f}")
    print(f"\n–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π:")
    print(f"  –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ: {stats['positive_ratio']:.1%}")
    print(f"  –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ: {stats['negative_ratio']:.1%}")
    print(f"  –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ: {stats['neutral_ratio']:.1%}")
    
    # –î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
    sentiment_counts = {}
    for sentiment in sentiments:
        sentiment_counts[sentiment.overall_sentiment] = sentiment_counts.get(
            sentiment.overall_sentiment, 0
        ) + 1
    
    print(f"\n–î–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:")
    for sentiment_type, count in sorted(sentiment_counts.items()):
        percentage = count / len(sentiments) * 100
        print(f"  {sentiment_type}: {count} ({percentage:.1f}%)")


def demonstrate_training(analyzer):
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ –Ω–∞ —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö."""
    print(f"\n{'='*60}")
    print(f"–û–ë–£–ß–ï–ù–ò–ï –ú–û–î–ï–õ–ò –ù–ê –†–ê–ó–ú–ï–ß–ï–ù–ù–´–• –î–ê–ù–ù–´–•")
    print(f"{'='*60}")
    
    # –°–æ–∑–¥–∞–µ–º —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
    labeled_data = [
        # –ü–æ–∑–∏—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
        (RussianNewsArticle(
            title="–û—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–º–ø–∞–Ω–∏–∏",
            content="–ü—Ä–∏–±—ã–ª—å –≤—ã—Ä–æ—Å–ª–∞ –Ω–∞ 50%, –¥–∏–≤–∏–¥–µ–Ω–¥—ã —É–≤–µ–ª–∏—á–µ–Ω—ã, –∞–∫—Ü–∏–æ–Ω–µ—Ä—ã –¥–æ–≤–æ–ª—å–Ω—ã —É—Å–ø–µ—Ö–æ–º",
            source="RBC",
            timestamp=datetime.now()
        ), "POSITIVE"),
        
        (RussianNewsArticle(
            title="–†–µ–∫–æ—Ä–¥–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –±–∞–Ω–∫–∞",
            content="–ë–∞–Ω–∫ –ø–æ–∫–∞–∑–∞–ª —Ä–µ–∫–æ—Ä–¥–Ω—É—é –ø—Ä–∏–±—ã–ª—å, –ø—Ä–µ–≤–∑–æ—à–µ–ª –≤—Å–µ –æ–∂–∏–¥–∞–Ω–∏—è –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤",
            source="VEDOMOSTI",
            timestamp=datetime.now()
        ), "POSITIVE"),
        
        # –ù–µ–≥–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
        (RussianNewsArticle(
            title="–°–µ—Ä—å–µ–∑–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∫–æ–º–ø–∞–Ω–∏–∏",
            content="–£–±—ã—Ç–∫–∏ –¥–æ—Å—Ç–∏–≥–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è, –∞–∫—Ü–∏–∏ –æ–±–≤–∞–ª–∏–ª–∏—Å—å, –∫—Ä–∏–∑–∏—Å —É–≥–ª—É–±–ª—è–µ—Ç—Å—è",
            source="INTERFAX",
            timestamp=datetime.now()
        ), "NEGATIVE"),
        
        (RussianNewsArticle(
            title="–ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ —É–≥—Ä–æ–∂–∞–µ—Ç –∫–æ–º–ø–∞–Ω–∏–∏",
            content="–î–æ–ª–≥–∏ –ø—Ä–µ–≤—ã—Å–∏–ª–∏ –∞–∫—Ç–∏–≤—ã, —Å–∞–Ω–∫—Ü–∏–∏ –Ω–∞–Ω–µ—Å–ª–∏ —Å–µ—Ä—å–µ–∑–Ω—ã–π —É—â–µ—Ä–± –±–∏–∑–Ω–µ—Å—É",
            source="TASS",
            timestamp=datetime.now()
        ), "NEGATIVE"),
        
        # –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã
        (RussianNewsArticle(
            title="–ö–æ–º–ø–∞–Ω–∏—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–ª–∞ –æ—Ç—á–µ—Ç",
            content="–í –æ—Ç—á–µ—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –∑–∞ –∫–≤–∞—Ä—Ç–∞–ª –∏ –ø–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è",
            source="RBC",
            timestamp=datetime.now()
        ), "NEUTRAL"),
        
        (RussianNewsArticle(
            title="–ë–∏—Ä–∂–∞ –æ–±–Ω–æ–≤–∏–ª–∞ –ø—Ä–∞–≤–∏–ª–∞ —Ç–æ—Ä–≥–æ–≤",
            content="–ù–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –≤—Å—Ç—É–ø—è—Ç –≤ —Å–∏–ª—É —Å –Ω–∞—á–∞–ª–∞ —Å–ª–µ–¥—É—é—â–µ–≥–æ –º–µ—Å—è—Ü–∞",
            source="RBC",
            timestamp=datetime.now()
        ), "NEUTRAL")
    ]
    
    print(f"–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ {len(labeled_data)} —Ä–∞–∑–º–µ—á–µ–Ω–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è:")
    for i, (article, label) in enumerate(labeled_data, 1):
        print(f"  {i}. {label}: {article.title}")
    
    # –û–±—É—á–∞–µ–º –º–æ–¥–µ–ª—å
    print(f"\n–û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏...")
    try:
        analyzer.train_on_labeled_data(labeled_data)
        print(f"‚úì –ú–æ–¥–µ–ª—å —É—Å–ø–µ—à–Ω–æ –æ–±—É—á–µ–Ω–∞!")
    except Exception as e:
        print(f"‚úó –û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—É—á–µ–Ω–∏–∏: {e}")
    
    # –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ–±—É—á–µ–Ω–Ω—É—é –º–æ–¥–µ–ª—å
    print(f"\n–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±—É—á–µ–Ω–Ω–æ–π –º–æ–¥–µ–ª–∏:")
    test_article = RussianNewsArticle(
        title="–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è",
        content="–ö–æ–º–ø–∞–Ω–∏—è –ø–æ–∫–∞–∑–∞–ª–∞ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –ø—Ä–∏–±—ã–ª—å –≤—ã—Ä–æ—Å–ª–∞ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ",
        source="RBC",
        timestamp=datetime.now()
    )
    
    sentiment = analyzer.analyze_sentiment(test_article)
    print(f"–¢–µ—Å—Ç–æ–≤–∞—è —Å—Ç–∞—Ç—å—è: {test_article.content}")
    print(f"–†–µ–∑—É–ª—å—Ç–∞—Ç: {sentiment.overall_sentiment} (–æ—Ü–µ–Ω–∫–∞: {sentiment.sentiment_score:.3f})")


def demonstrate_advanced_features(analyzer, articles):
    """–î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞."""
    print(f"\n{'='*60}")
    print(f"–ü–†–û–î–í–ò–ù–£–¢–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò")
    print(f"{'='*60}")
    
    # –ê–Ω–∞–ª–∏–∑ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
    print(f"\n–ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º:")
    source_sentiments = {}
    
    for article in articles:
        sentiment = analyzer.analyze_sentiment(article)
        if article.source not in source_sentiments:
            source_sentiments[article.source] = []
        source_sentiments[article.source].append(sentiment.sentiment_score)
    
    for source, scores in source_sentiments.items():
        avg_score = sum(scores) / len(scores)
        print(f"  {source}: {avg_score:.3f} (—Å—Ç–∞—Ç–µ–π: {len(scores)})")
    
    # –ê–Ω–∞–ª–∏–∑ –ø–æ –≤—Ä–µ–º–µ–Ω–∏
    print(f"\n–ê–Ω–∞–ª–∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π –ø–æ –≤—Ä–µ–º–µ–Ω–∏:")
    time_sentiments = []
    
    for article in sorted(articles, key=lambda x: x.timestamp):
        sentiment = analyzer.analyze_sentiment(article)
        time_str = article.timestamp.strftime("%H:%M")
        time_sentiments.append((time_str, sentiment.sentiment_score))
    
    for time_str, score in time_sentiments:
        print(f"  {time_str}: {score:.3f}")
    
    # –ü–æ–∏—Å–∫ –Ω–∞–∏–±–æ–ª–µ–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
    print(f"\n–ù–∞–∏–±–æ–ª–µ–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—å–∏:")
    article_sentiments = []
    
    for article in articles:
        sentiment = analyzer.analyze_sentiment(article)
        article_sentiments.append((article, sentiment))
    
    # –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—é –æ—Ü–µ–Ω–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
    article_sentiments.sort(key=lambda x: abs(x[1].sentiment_score), reverse=True)
    
    for i, (article, sentiment) in enumerate(article_sentiments[:3], 1):
        title = article.title[:50] + "..." if len(article.title) > 50 else article.title
        print(f"  {i}. {title}")
        print(f"     –ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: {sentiment.overall_sentiment} ({sentiment.sentiment_score:.3f})")


def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏."""
    print("ü§ñ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ê–ù–ê–õ–ò–ó–ê–¢–û–†–ê –ù–ê–°–¢–†–û–ï–ù–ò–ô –†–£–°–°–ö–ò–• –§–ò–ù–ê–ù–°–û–í–´–• –ù–û–í–û–°–¢–ï–ô")
    print("=" * 80)
    
    # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä
    print("–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π...")
    analyzer = RussianSentimentAnalyzer()
    print("‚úì –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!")
    
    # –°–æ–∑–¥–∞–µ–º –ø—Ä–∏–º–µ—Ä—ã —Å—Ç–∞—Ç–µ–π
    articles = create_sample_articles()
    print(f"‚úì –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ {len(articles)} —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ç–∞—Ç–µ–π")
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –∞–Ω–∞–ª–∏–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π
    for i, article in enumerate(articles[:2], 1):  # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–µ 2 —Å—Ç–∞—Ç—å–∏
        demonstrate_single_analysis(analyzer, article)
        if i < 2:
            input("\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –ø–∞–∫–µ—Ç–Ω—ã–π –∞–Ω–∞–ª–∏–∑
    demonstrate_batch_analysis(analyzer, articles)
    input("\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
    demonstrate_training(analyzer)
    input("\n–ù–∞–∂–º–∏—Ç–µ Enter –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è...")
    
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
    demonstrate_advanced_features(analyzer, articles)
    
    print(f"\n{'='*80}")
    print("üéâ –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê!")
    print("–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.")
    print("=" * 80)


if __name__ == "__main__":
    try:
        main()
    except KeyboardInterrupt:
        print("\n\n‚ö†Ô∏è  –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ—Ä–≤–∞–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º")
    except Exception as e:
        print(f"\n\n‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏: {e}")
        import traceback
        traceback.print_exc()